=encoding utf8

=head1 NAME

release_managers_guide - Releasing a new version of perl 5.x

Note that things change at each release, so there may be new things not
covered here, or tools may need updating.

=head1 MAKING A CHECKLIST

If you are preparing to do a release, you can run the
F<Porting/make-rmg-checklist> script to generate a new version of this
document that starts with a checklist for your release.

This script is run as:

 perl Porting/make-rmg-checklist \
     --version [5.X.Y-RC#] > /tmp/rmg.pod

You can also pass the C<--html> flag to generate an HTML document instead of
POD.

 perl Porting/make-rmg-checklist --html \
     --version [5.X.Y-RC#] > /tmp/rmg.html

=head1 DETAILS

Some of the tasks described below apply to all four types of
release of Perl. (blead, RC, final release of maint, final
release of blead). Some of these tasks apply only to a subset
of these release types.  If a step does not apply to a given
type of release, you will see a notation to that effect at
the beginning of the step.

This guide assumes you are working on the Perl master repository (i.e.
L<https://github.com/Perl/perl5>) and B<not> on your own fork of the perl5
repository. While it is possible to prepare a release on your own fork
this guide is not written with that in mind and as a result several
key steps are missing. If you do use your own fork then extra care
needs to be taken when setting/pushing the tag and doing the merge
(do B<not> use a PR).

=head2 Release types

=over 4

=item Release Candidate (RC)

A release candidate is an attempt to produce a tarball that is as close as
possible to the final release. Indeed, unless critical faults are found
during the RC testing, the final release will be identical to the RC
barring a few minor fixups (updating the release date in F<perlhist.pod>,
removing the RC status from F<patchlevel.h>, etc). If faults are found,
then the fixes should be put into a new release candidate, never directly
into a final release.


=item Stable/Maint release (MAINT).

A release with an even version number, and subversion number > 0, such as
5.14.1 or 5.14.2.

At this point you should have a working release candidate with few or no
changes since.

It's essentially the same procedure as for making a release candidate, but
with a whole bunch of extra post-release steps.

Note that for a maint release there are two versions of this guide to
consider: the one in the maint branch, and the one in blead. Which one to
use is a fine judgement. The blead one will be most up-to-date, while
it might describe some steps or new tools that aren't applicable to older
maint branches. It is probably best to review both versions of this
document, but to most closely follow the steps in the maint version.

=item A blead point release (BLEAD-POINT)

A release with an odd version number, such as 5.15.0 or 5.15.1.

This isn't for production, so it has less stability requirements than for
other release types, and isn't preceded by RC releases. Other than that,
it is similar to a MAINT release.

=item Blead final release (BLEAD-FINAL)

A release with an even version number, and subversion number == 0, such as
5.14.0. That is to say, it's the big new release once per year.

It's essentially the same procedure as for making a release candidate, but
with a whole bunch of extra post-release steps, even more than for MAINT.

=back

=for checklist begin

=head2 Prerequisites

Before you can make an official release of perl, there are a few
hoops you need to jump through:

L<PAUSE account with pumpkin status|rmg/pause-pumpkin-bit.pod>

L<GitHub access|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/github-access.pod>

L<Web-based file share|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/web-based-file-share.pod>

L<Quotation for release announcement epigraph|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/quotation-for-epigraph.pod>

L<Install the previous version of perl|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/install-previous-perl.pod>

L<Email account subscribed to perl5-porters|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/subscribe-to-p5p.pod>

=head2 Blead point release

L<Dual-life CPAN module synchronisation|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Monitor smoke tests for failures|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update perldelta|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Build the tarball|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Announce to p5p|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

=head2 Maintenance release

L<Dual-life CPAN module synchronisation|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Monitor smoke tests for failures|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update perlgov|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Build the tarball|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Announce to p5p|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

=head2 Release Candidate

L<Dual-life CPAN module synchronisation|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Monitor smoke tests for failures|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update perldelta|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update AUTHORS|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Build the tarball|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update perlhist|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update patchlevel.h|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Announce to p5p|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

=head2 Major release

L<Dual-life CPAN module synchronisation|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Monitor smoke tests for failures|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update perldelta|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update AUTHORS|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Build the tarball|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update perlhist.pod|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Update patchlevel.h|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

L<Announce to p5p|https://github.com/thibaultduponchelle/perl5/blob/rmg-v2/Porting/rmg/step.pod>

=head1 SOURCE

Based on
L<https://www.nntp.perl.org/group/perl.perl5.porters/2009/05/msg146638.html>,
plus a whole bunch of other sources, including private correspondence.

=cut
